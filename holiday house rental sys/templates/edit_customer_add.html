<!-- 
This is used for creating a web page to add a new customer profile. 
It extends a base layout and provides a form for inputting customer details
 such as customer number, username, name, email, phone number, and address. 
 The template also handles the display of flash messages and includes required 
 field indicators for certain inputs. 
-->
{% extends 'layout.html' %} <!-- Extends a base layout template -->

{% block content %}
<div class="container mt-4">
    <h2>Add Customer Profile</h2>

    <!-- Section for displaying flash messages -->
    {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
        {% for category, message in messages %}
            <div class="alert alert-info">
                {{ message }}
            </div>
        {% endfor %}
    {% endif %}
    {% endwith %}

    <!-- Form for adding a customer -->
    <form method="POST">       
        <div class="form-group">
            <!-- Field for Customer Number -->
            <label for="customernumber">Customer Number:</label>
            <input type="text" class="form-control" id="customernumber" name="customernumber" value="{{ form_data.customernumber or '' }}">
        </div>

        <div class="form-group">
            <!-- Field for Username (required) -->
            <label for="username">Username*:</label>
            <input type="text" class="form-control" id="username" name="username" value="{{ form_data.username or '' }}" required>
        </div>

        <div class="form-group">
            <!-- Field for Name (required) -->
            <label for="name">Name*:</label>
            <input type="text" class="form-control" id="name" name="name" value="{{ form_data.name or '' }}" required>
            <small id="namehelp" class="form-text text-muted">
                Name should only contain letters and spaces.
            </small>
        </div>

        <div class="form-group">
            <!-- Field for Email (required) -->
            <label for="email">Email*:</label>
            <input type="email" class="form-control" id="email" name="email" value="{{ form_data.email or '' }}" required>
            <small id="emailhelp" class="form-text text-muted">
                Valid email format: username@example.com
            </small>
        </div>

        <div class="form-group">
            <!-- Field for Phone Number -->
            <label for="phone_number">Phone Number:</label>
            <input type="text" class="form-control" id="phone_number" name="phone_number" value="{{ form_data.phone_number or '' }}">
        </div>

        <div class="form-group">
            <!-- Field for Address (required) -->
            <label for="address">Address*:</label>
            <input type="text" class="form-control" id="address" name="address" value="{{ form_data.address or '' }}" required>
            <small id="registerhelp" class="form-text text-muted">
                <strong>* is the required field.<br> The customer default password is 123456, please contact them to update it in time.</strong>
            </small>
        </div>

        <!-- Buttons for submitting the form or returning to the previous page -->
        <button type="submit" class="btn btn-secondary mr-3">Add Customer</button>
        <a href="{{ url_for('editcustomer') }}" class="btn btn-outline-secondary">Return</a>
    </form>
</div>
{% endblock %}
